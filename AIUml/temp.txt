@startuml
title 电影票购买流程

|用户|
start

:浏览电影信息;
if (是否选择电影并输入购票信息?) then (是)
  :确认购票信息;
  if (余额是否充足?) then (是)
    ->|票务系统|
    : 发送购票请求;
    -[dashed]-> |银行|
    : 请求支付;
    if (支付是否成功?) then (是)
      -[dashed]->|票务系统|
      : 支付成功;
      -->|用户|
      :购票成功;
    else (否)
      -[dashed]->|票务系统|
      : 支付失败;
      -->|用户|
      :购票失败;
    endif
  else (否)
    :余额不足;
  endif
else (否)
  :取消购票;
endif

|用户|
stop
@enduml